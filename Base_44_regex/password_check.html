<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style></style>
</head>

<body>
    <input id="password" type="password">
    <button id="btn">确认</button>
    <div id="warn"></span>
        <script>
            function checkPassword(password) {
                //检查长度
                if (password.length < 6 || password.length > 16) {
                    if (password.length == 0) {
                        return "密码不能为空";
                    }
                    return "密码应为6-16个字符";
                }
                //检查首字母
                var reg = /[a-zA-Z_]/;
                if (reg.test(password[0]) == false) {
                    return "首字符应为字母或者下划线";
                }
                //检查是否包含特殊字符
                reg = /^[a-zA-Z_0-9]{6,16}$/
                if (reg.test(password) == false) {
                    return "不能包含字母、数字、下划线以外的特殊字符";
                }

                //检查字符类型数量
                var typeNum = 0;
                reg = /[a-z]/;
                if (reg.test(password)) {
                    typeNum++;
                }
                reg = /[A-Z]/;
                if (reg.test(password)) {
                    typeNum++;
                }
                reg = /_/;
                if (reg.test(password)) {
                    typeNum++;
                }
                reg = /\d/;
                if (reg.test(password)) {
                    typeNum++;
                }
                if (typeNum < 3) {
                    return "应该包括小写字母，大写字母，数字，下划线中的至少3个";
                }

                return "密码可用";
            }
            function alterFault(info) {
                var spanEle = document.getElementById("warn");
                spanEle.innerText = info;

            }
            var btn = document.getElementById("btn");
            btn.addEventListener("click", function () {
                var passwordEle = document.getElementById("password");
                alterFault(checkPassword(passwordEle.value));
            })
        </script>
</body>

</html>