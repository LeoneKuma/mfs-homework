<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>

  <script>
    var convert = function (s, numRows) {
      if(numRows<=1){
        return s;
      }
      var len = s.length;
      var sArray = new Array(numRows);
      for(var i=0;i<numRows;i++){
        sArray[i]=[];
      }
      var blockSize = 2 * (numRows - 1);
      var blockNum = Math.floor(len / blockSize);
    
      //先遍历完整的块
      var i = 0;
      for (; i < blockNum; i++) {
        console.log("遍历完整");
        for (var j = 0; j < blockSize; j++) {
          if (j < numRows) {

            sArray[j].push(s[j + i * blockSize]);
          }
          else {
            sArray[blockSize-j].push(s[j + i * blockSize]);
          }
        }
      }
      //最后遍历不完整的区
      var n = 0
      for (var m = i * blockSize; m < len; m++) {
        console.log("遍历不完整");
        if (n < numRows) {
          sArray[n].push(s[m])
          console.log(`${s[m]}入第${n}行`)
        }
        else {
          sArray[blockSize-n].push(s[m]);
          console.log(`${s[m]}入第${blockSize-n}行`)
        }
        n++;
      }
      console.log(sArray)
      //最后取出每个数组的值
      var s2 = "";
      for (var i = 0; i < numRows; i++) {
        s2 += sArray[i].join("");
      }
      return s2;
    };
    var a=convert("ABCDE",4);
    console.log(a);
  </script>
</body>

</html>